(ns prop-assignment2.core
  (:gen-class))

(import java.io.FileReader java.io.File)
(import java.io.Closeable)

(defmacro safe [& all]
(if(>(count all)1)
`(try (let ~(first all) (def result ~(second all))
(if(instance? Closeable ~(ffirst all))
(.close ~(ffirst all)))result)(catch Exception e# (str "Caught excpetion " e#)))
`(try ~@all (catch Exception e# (str "Caught exception " e#)))))
